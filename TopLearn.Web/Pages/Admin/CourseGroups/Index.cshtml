@page
@model TopLearn.Web.Pages.Admin.CourseGroups.IndexModel
@{
}
<body>

    <div id="wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header"> لیست گروه ها </h1>
            </div>

        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        لیست گروه ها  سایت
                    </div>
                    <div class="panel-body">
                      
                        <div class="panel-body">
                            <div class="table-responsive">
                                <div id="dataTables-example_wrapper" class="dataTables_wrapper form-inline" role="grid">

                                    <div class="col-md-12" style="margin: 10px 0;">
                                        <a asp-page="AddCourseGroup" class="btn btn-warning btn-lg">افزودن گروه جدید</a>
                                    </div>
                                    <table class="table table-striped table-bordered table-hover dataTable no-footer" id="dataTables-example" aria-describedby="dataTables-example_info">
                                        <thead>
                                            <tr>
                                                <th>عنوان گروه </th>
                                                <th>زیرگروه ها </th>
                                                <th>دستوات </th>

                                               
                                            <tr>

                                        </thead>
                                        <tbody>
                                            @foreach (var item in Model.CourseGroups.Where(g=>g.ParentId==null))
                                            {
                                                <tr class="gradeA even">
                                                    <td>

                                                       @item.GroupTitel

                                                    </td>

                                                    <td class=" ">
                                                        @if ( item.CourseGroups.Any())
                                                         {


                                                           <ul>
                                                                 @foreach (var sub in item.CourseGroups )
                                                                    
                                                                  {
                                                                   <li>
                                                                       @sub.GroupTitel- <a asp-page="EditCourseGroup" asp-route-id="@item.GroupId" class="btn btn-outline btn-warning btn-xs">ویرایش</a>

                                                                 </li>

                                                                 }

                                                            </ul>

                                                         }
                                                    </td>
                                                    

                                                    <td>
                                                        <a asp-page="EditCourseGroup" asp-route-id="@item.GroupId" class="btn btn-warning btn-sm">ویرایش</a>
                                                        <a asp-page="CreateSubGroup" asp-route-id="@item.GroupId" class="btn btn-warning btn-sm">زیرگروه</a>

                                                        @*<a asp-page="ListDeleteUser" asp-route-id="@item.Userid" class="btn btn-danger btn-sm">حذف</a>*@
                                                    </td>

                                                </tr>

                                            }
                                        </tbody>
                                    </table>

                                </div>
                            </div>

                        </div>





                    </div>
                </div>
            </div>
        </div>

    </div>
</body>
